# 헤더

헤더가 필요한 이유는 클라이언트와 서버가 무엇을 한는지 결정하기 위해서이다

## 헤더의 종류

- 일반 헤더
- 요청 헤더
    - Accept 관련 헤더
    - 조건부 요청 헤더
    - 요청 보안 헤더
    - 프록시 요청 헤더
- 응답 헤더
    - 협상 헤더
    - 응답 보안 헤더
- 엔터디 헤더
- 확장 헤더

1. 일반 헤더(General Header)

클라이언트, 서버 그리고 어딘가에 메시지를 보내는 다른 애플리케이션들을 위해 다양한 목적으로 사용

`Date: Tue, 3Oct 1974 02:16:00 GMT`

|           헤더           | 설명 |
|--------------------------|------|
| Connection               | 클라이언트/서버가 요청/응답 연결에 옵션을 정할 수 있게 해준다             |
| Date                     | 메시지가 언제 만들어졌는지에 대한 날짜와 시간을 제공한다                  |
| MIME-Version             | 발송자가 사용한 MIME 버전을 알려준다                                    |
| Trailer chunked transfer | 인코딩으로 인코딩된 메시지의 끝 부분에 위치한 헤더들의 목록을 나열한다     |
| Transfer-Encoding        | 수신자에게 안전한 전송을 위해 메시지에 어떤 인코딩이 적용되었는지 말해준다  |
| Upgrade                  | 발송자가 업그레이드하길 원하는 새 버전이나 프로토콜을 알려준다 |
| Via                      | 이 메시지가 어떤 중개자를 거쳐 왔는지 알려준다 |

- 일반 캐시 헤더

|      헤더     | 설명 |
|---------------|------------------------------------------------------------------|
| Cache-Control | 메시지와 함께 캐시 지시자를 전달하기 위해 사용한다                   |
| Pragma        | 매시지와 함께 지시자를 전달하는 또 다른 방법, 캐시에 국한되지 않는다  |


2. 요청 해더(Request Header)

서버에게 클라이언트가 받고자 하는 데이터의 타입이 무엇인지와 같은 부가 정보를 제공한다

`Accept: */*`

|    헤더    |                               설명                          |
|------------|------------------------------------------------------------|
| Client-IP  | 클라이언트가 실행된 컴퓨터의 IP를 제공한다                    |
| From       | 클라이언트 사용자의 메일 주소를 제공한다                      |
| Host       | 요청의 대상이 되는 서버의 호스트 명과 포트를 준다              |
| Referer    | 현재의 요청 URI가 들어있었던 문서의 URL을 제공한다            |
| UA-Color   | 클라이언트 기기 디스플레이의 색상 능력에 대한 정보를 제공한다   |
| UA-CPU     | 클라이언트 CPU의 종류나 제조사를 알려준다                     |
| UA-Disp    | 클라이언트의 디스플레이 능력에 대한 정보를 제공한다            |
| UA-OS      | 클라이언트 기기에서 동작 중인 운영체제의 이름과 버전을 알려준다 |
| UA-Pixels  | 클라이언트 기기 디스플레이에 대한 픽셀 정보를 제공한다         |
| User-Agent | 요청을 보낸 애플리케이션의 이름을 서버에게 말해준다            |

- Accept 관련 헤더

클라이언트는 Accept 헤더들을 이용해 클라이언트가 무엇을 원하고 무엇을 할 수 있는지, 그리고 무엇보다도 원치 않는 것은 무엇인지 알려줄 수 있다

서버는 이 후, 추가 정보를 활용해서 무엇을 보낼 것인가에 대해서 더 똑똑한 결정을 내릴 수 있다

|    헤더         |                               설명                          |
|-----------------|------------------------------------------------------------|
| Accept          | 서버에게 서버가 보내도 되는 미디어 종류를 말해준다             |
| Accept-Charset  | 서버에게 서버가 보내도 되는 문자집합을 말해준다                |
| Accept-Emcoding | 서버에게 서버가 보내도 되는 인코딩을 말해준다                  |
| Accept-Language | 서버에게 서버가 보내도 되는 언어를 말해준다                    |
| TE              | 서버에게 서버가 보내도 되는 확장 전송 코딩을 말해준다          |

- 조건부 요청 헤더

클라이언트는 요청에 몇몇 제약을 넣기도 한다

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Except              | 클라이언트가 요청에 필요한 서버의 행동을 열거할 수 있게 해준다                 |
| If-Match            | 문서의 엔터티 태그가 주어진 엔터티 태그와 일치하는 경우에만 문서를 가져온다     |
| If-Modified-Since   | 주어진 날짜 이후에 리소스가 변경되지 않았다면 요청을 제한한다                  |
| If-None-Match       | 문서의 엔터티 태그가 주어진 엔터티 태그와 일치하지 않는 경우에만 문서를 가져온다 |
| If-Range            | 문서의 특정 범위에 대한 요청을 할 수 있게 해준다                              |
| If-Unmodified-Since | 주어진 날짜 이후에 리소스가 변경되었다면 요청을 제한한다                       |
| Range               | 서버가 범위 요청을 지원한다면, 리소스에 대한 특정 범위를 요청한다              |

- 요청 보안 헤더

HTTP 자체적으로 요청을 위한 간단한 인증요구/응답 체계를 갖고 있다

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Authorization       | 클라이언트가 서버에게 제공하는 인증 그 자체에 대한 정보를 담고 있다 |
| Cookie              | 클라이언트가 서버에게 토큰을 전달할 때 사용한다, 진짜 보안 헤드는 아니지만, 보안에 영향을 줄 수 있다는 것은 확실하다고 한다 |
| Cookie2             | 요청자가 지원하는 쿠키의 버전을 알려줄 때 사용한다 |

- 프록시 요청 헤더

인터넷에서 프록시가 흔해지면서, 프록시의 기능을 독기 위해 몇몇 헤더들이 정의되었다고 한다

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Max-Forwards        | 요청이 원래 서버로 향하는 과정에서 다른 프록시나 게이트웨이로 전달할 수 있는 최대 횟수 |
| Proxy-Authroiztion  | Authorization 과 같으나 프록시에서 인증을 할 때 쓰인다 |
| proxy-Connection    | Connection 과 같으나 프록시에서 연결을 맺을 때 쓰인다 |

3. 응답 헤더(Response Header)

클라이언트에게 정보를 제공하기 위한 자신만의 헤더를 갖고 있다

`Server: Tiki-Hut/1.0`

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Age | 응답이 얼마나 오래되었는지 |
| Public | 서버가 특정 리소스에 대해 지원하는 요청 메소드의 목록 |
| Retry-After | 현재 리소스가 사용불가능한 상태일 때, 언제 가능해지는지 날짜 혹은 시각 |
| Server | 서버 애플리케이션의 이름과 버전 |
| Title | HTML 문서에서 주어진 것과 같은 제목 |
| Warning | 사유 구절에 있는 것보다 더 자세한 경고 메세지 |

- 협상 헤더

서버에 프랑스어와 독일어로 번역된 HTML 문서가 있는 경우와 같이 여러 가지 표현이 가능한 상황이라면, HTTP/1.1은 서버와 클라이언트가 어떤 표현을 택할 것인가에 대한 협상을 할 수 있도록 지원한다

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Accept-Ranges| 서버가 자원에 대해 받아들일 수 있는 범위와 형태 |
| Vary | 서버가 확인해 보아야 하고 그렇기 때문에 응답에 영향을 줄 수 있는 헤더들의 목록, 서버가 클라이언트에게 보내줄 리소스의 가장 적절한 버전을 선택하기 위해 살펴보아야하는 헤더들의 목록 |

- 응답 보안 헤더

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Proxy-Authenticate | 프록시에서 클라이언트로 보낸 인증요구의 목록 |
| Set-Cookie | 실제 보안헤더는 아니지만, 영향을 줄 수 있다. 서버가 클라이언트를 인증할 수 있도록 클라이언트 측에 토큰을 설정하기 위해 사용한다 |
| Set-Cookie2 | Set-Cookie와 비슷하게 RFC2965로 정의된 쿠키 |
| WWW-Authenticate | 서버에서 클라이언트로 보낸 인증요구의 목록 |

4. 엔터티 헤더(Entity Header)

엔터티 본문에 대한 헤더를 말한다, 예를 들어 `Content-Type` 이 있다

`Content-Type: text/html; charset=iso-latin-1`

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Allow | 이 엔터티에 대해 수행될 수 있는 요청 메소드들을 나열한다 |
| Location | 클라이언트에게 엔터티가 실제로 어디에 위치하고 있는지 말해준다. 수신자에게 리소스에 대한 위치를 알려줄 때 사용한다 |

5. 확장 헤더(Extension Header)

애플리케이션 개발자에 의해 만들어졌지만 아직 승인된 HTTP 명세에는 추가되지 않은 비표준 헤더

- 콘텐츠 헤더

엔터티의 콘텐츠에 대한 구체적인 정보를 제공한다.

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| Content-Base | 본문에서 사용된 상대 URL을 계산하기 위한 기저 URL |
| Content-Encoding | 본문에 적용된 인코딩 |
| Content-Language | 본문을 이해하는데 가장 적절한 자연어 |
| Content-Length | 본문의 길이나 크기 |
| Content-Location | 리소스가 실제로 어디에 위치하는지 |
| Content-MD5 | 본문의 MD5 체크섬 |
| Content-Range | 전체 리소스에서 이 엔터티가 해당하는 범위를 바이트 단위로 표현 |
| Content-Type | 이 본문이 어떤 종류의 객체인지 |

- 엔터티 캐싱 헤더

일반 캐싱 헤더는 언제 어떻게 캐시가 되어야 하는지에 대한 지시자를 제공한다

엔터티 캐싱 헤더는 엔터티 캐싱에 대한 정보를 제공한다

|        헤더         |                                          설명                              |
|---------------------|---------------------------------------------------------------------------|
| ETag | 이 엔터티에 대한 엔터티 태그 |
| Expire | 이 엔터티가 더 이상 유효하지 않아 원본을 다시 받아와야하는 상황 |
| Last-Modified | 가장 최근 이 엔터티가 변경된 일시 |

-----

헤더의 종류는 이것 말고도 엄청 많다...